<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Mesh Retopology | VPE Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Mesh Retopology | VPE Documentation ">
    <meta name="description" content="Create a new topology using Instant Meshes and RetopoFlow3">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../styles/main.css">
  
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
  
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://docs.visualpinball.org/">
    <meta property="og:title" content="Mesh Retopology | VPE Documentation ">
    <meta property="og:description" content="Create a new topology using Instant Meshes and RetopoFlow3">
    <meta property="og:image" content="https://docs.visualpinball.org/images/social-poster.jpg">
  
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://docs.visualpinball.org/">
    <meta property="twitter:title" content="Mesh Retopology | VPE Documentation ">
    <meta property="twitter:description" content="Create a new topology using Instant Meshes and RetopoFlow3">
    <meta property="twitter:image" content="https://docs.visualpinball.org/images/social-poster.jpg">
  
  
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../toc.html">
  
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.7.6/release/featherlight.min.css" type="text/css" rel="stylesheet">
    <script type="text/javascript">
    var _paq = window._paq || [];
    _paq.push(["setCookieDomain", "*.docs.visualpinball.org"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="//count.vpdb.io/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '2']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
    </script>
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../index.html">
                <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" width="43.38" height="37.61" xml:space="preserve"><style>.st0{fill:#ddd}</style><path class="st0" d="M43.21 0H.17C.02 0-.04.11.03.24l21.52 37.28c.08.13.2.13.28 0L43.35.24c.08-.13.01-.24-.14-.24zm-3.62 2.41l-8.43 14.6a.54.54 0 01-.41.24h-4.83a.52.52 0 00-.41.24l-.98 1.7c-.08.13-.01.24.14.24h4.83c.15 0 .21.11.14.24l-1.79 3.1a.6.6 0 01-.42.23H22.6a.52.52 0 00-.41.24l-.98 1.7c-.08.13-.01.24.14.24h4.83c.15 0 .21.11.14.24l-4.48 7.76c-.08.13-.2.13-.28 0L3.8 2.41c-.08-.13-.02-.24.13-.24h35.51c.16 0 .22.11.15.24z"></path><path class="st0" d="M33.26 5.75H10.13c-.15 0-.21.11-.14.24l8.24 14.28c.08.13.2.13.28 0l3.67-6.36a.54.54 0 01.41-.24h6.09c.15 0 .34-.11.41-.24l4.3-7.44c.08-.13.02-.24-.13-.24zm-3.63 2.41l-1.79 3.1a.54.54 0 01-.41.24h-6.09a.52.52 0 00-.41.24l-2.42 4.18c-.08.13-.2.13-.28 0l-4.48-7.76c-.08-.13-.01-.24.14-.24h15.6c.15 0 .21.11.14.24z"></path></svg>
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <a title="VPE is open source!" class="navbar-github pull-right" href="https://github.com/freezy/VisualPinball.Engine" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 33.5 33.1" width="33.5" height="33.1"><path d="M16.7.4a16.3 16.3 0 00-5.2 31.8c.8.1 1.1-.4 1.1-.8v-2.8c-4.5 1-5.5-2.2-5.5-2.2-.6-1.9-1.7-2.4-1.7-2.4-1.5-1 .1-1 .1-1 1.6.1 2.5 1.7 2.5 1.7 1.5 2.5 3.8 1.8 4.7 1.4.1-1.1.6-1.8 1-2.2-3.6-.4-7.4-1.8-7.4-8.1 0-1.8.7-3.2 1.7-4.4-.1-.4-.7-2 .2-4.3 0 0 1.4-.4 4.5 1.7a18.4 18.4 0 018.2 0c3.1-2.1 4.5-1.7 4.5-1.7.9 2.2.3 3.9.2 4.3 1 1.1 1.7 2.6 1.7 4.4 0 6.3-3.8 7.6-7.4 8 .6.5 1.1 1.5 1.1 3v4.5c0 .4.3.9 1.1.8A16.3 16.3 0 0016.7.4z"></path></svg>
              </a>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="tutorial_3d_scan_2">
<h1 id="mesh-retopology">Mesh Retopology</h1>

<p>For this step we'll need two additional tools:</p>
<ul>
<li><a href="https://github.com/wjakob/instant-meshes">Instant Meshes</a> (a standalone tool)</li>
<li><a href="https://github.com/CGCookie/retopoflow">RetopoFlow 3</a> (a Blender plug-in)</li>
</ul>
<p>Both programs are free and open source.</p>
<h2 id="retopowhat">Retopowhat?</h2>
<p>From <a href="https://docs.blender.org/manual/en/latest/modeling/meshes/retopology.html">blender.org</a>:</p>
<blockquote>
<p>Retopology is the process of simplifying the topology of a mesh to make it cleaner and easier to work with. Retopology is need for mangled topology resulting from sculpting or generated topology, for example from a 3D scan.</p>
</blockquote>
<p>You're probably not going to rig and animate your playfield toy. However, retopology gives you the possibility to put in more geometry where it's most visible, adding more details to your mesh for the same price (=poly count).</p>
<p>Our approach here is to let <em>Instant Meshes</em> handle most of the heavy work, and manually add more details where appropriate.</p>
<p>If you want to dig deeper into topology, here is an extensive video on the topic:</p>
<div class="embeddedvideo"><iframe src="https://www.youtube-nocookie.com/embed/6Kt0gW3_kio" frameborder="0" allowfullscreen="true"></iframe></div>
<h2 id="base-topology">Base Topology</h2>
<p>Open up <em>Instant Meshes</em> and load <code>hi-poly.obj</code>. Now you need to decide the number of vertices you're aiming for. Since we're going to add more geometry later, we can aim pretty low. In our case, we're going for a thousand vertices.</p>
<p>Set <em>Target vertex count</em> to 1K, then click on <em>Solve</em> under <em>Orientation field</em>. This gives you hints how the geometry will be oriented.</p>
<p><img src="im-no-adjustments.jpg" alt="Orientation Field Solved"></p>
<p>Now, if you're doing this the first time, you probably have no idea what to look for. In general, what you're aiming for is an orientation field that is well aligned with the geometry. For example, we would like to have an orientation along each of the crawls, so we can more easily add details without having to move too much vertices around.</p>
<p>Use the <em>comb</em> tool to draw new lines. Each time you add a new line, the program updates the orientation field to accommodate for the new orientation you're setting.</p>
<p><img src="im-combed.jpg" alt="Orientation Field after using the Comb tool"></p>
<p>In our example, we've added new orientations to the crawls, the wings and the face. We didn't go into too much detail for the face, since we're re-doing that one manually later anyway.</p>
<p>Now, click on <em>Solve</em> under <em>Position field</em>. This gives you a rough idea how the polygons will be aligned. If necessary, re-comb and solve again.</p>
<p><img src="im-positions.jpg" alt="Resolved Positions"></p>
<p>Click on <em>Export Mesh</em> and <em>Extract Mesh</em>. This shows you the mesh we're going fine-tune in Blender.</p>
<p><img src="im-mesh.jpg" alt="Base Mesh"></p>
<p>Click on <em>Save</em> and export it as <code>low-poly-base.obj</code>.</p>
<h2 id="fine-tune">Fine-Tune</h2>
<p>Go back to Blender, and import <code>low-poly-base.obj</code>. Select it, and choose <em>Object -&gt; Shade Smooth</em>.</p>
<p><img src="low-poly-imported.jpg" alt="Imported low-poly model"></p>
<p>If you haven't yet, install the <a href="https://github.com/CGCookie/retopoflow">RetopoFlow 3</a> plugin. We won't go into too much detail on how to use RetopoFlow, but this tutorial should teach you the basics:</p>
<div class="embeddedvideo"><iframe src="https://www.youtube-nocookie.com/embed/X8kQiccJetw" frameborder="0" allowfullscreen="true"></iframe></div>
<p>In order to get your imported model into RetopoFlow, select the mesh, enter edit mode, click on the <em>RetopoFlow</em> button, and select <em>Start RetopoFlow</em>.</p>
<p><img src="retopoflow-start.jpg" alt="RetopoFlow"></p>
<p>Now, re-topo the parts that need more details. In our example, we've completely removed and remodeled the head, added more geometry to the feet and some to the wings. We've also aligned some vertices to better match the model.</p>
<p><img src="retopoflow-done.jpg" alt="RetopoFlow Done"></p>
<div class="NOTE">
<h5>Note</h5>
<h4 id="quads-vs-tris">Quads vs Tris</h4>
<p>You're probably heard about the debate whether to use purely quads or triangles in your geometry. <a href="http://wedesignvirtual.com/quads-vs-tris-in-3d-modeling/">Here</a> is a pretty good overview about the pros and cons of each.</p>
<p>In short, since we're not purists and are working on game assets, some triangles are fine.</p>
</div>
<p>So you got your mesh. Spend some time fine-tuning it. Rotate, and check if there are any important angles where the silhouette looks jagged. Add more geometry if needed, but also keep in mind the distance from which your toy will be typically rendered (probably no one will zoom-in fully on your model during game play).</p>
<p>Now let's <a class="xref" href="3-bake-texture-maps.html">bring back the details of the original geometry</a>.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/freezy/VisualPinball.Engine/blob/master/VisualPinball.Unity/Documentation~/creators-guide/tutorials/make-a-3d-scan-game-ready/2-mesh-retopology.md/#L1" class="contribution-link btn btn-default">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © 2022 VPE Team</span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../styles/main.js"></script>
    <script src="//cdn.rawgit.com/noelboss/featherlight/1.7.6/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" src="../../../styles/plugin-featherlight.js"></script>
  </body>
</html>
